---
import Logo from "@/assets/logo-hct.svg"
import { Toggle } from "astro-theme-toggle"
import ChevronDown from "@tabler/icons/outline/chevron-down.svg"

import { navigationLinks } from "@/config/menu"
import Button from "./starwind/button"
import {
  Dropdown,
  DropdownTrigger,
  DropdownContent,
  DropdownItem,
  DropdownLabel,
  DropdownSeparator,
} from "@/components/starwind/dropdown"
import LangSelect from "./ui/blocks/LangSelect.astro"
---

<nav class="bg-muted/50 w-full">
  <div class="flex h-24 items-center gap-8 px-4 sm:px-6 lg:px-8">
    <a class="block" href="/">
      <Logo class="mr-1 inline-block size-8" />
      <div class="logo inline-block">Ha»õegan <span class="font-thin">Consulting & Trading</span></div>
    </a>

    <div class="flex flex-1 items-center justify-end md:justify-between">
      <nav aria-label="Global" class="hidden md:block">
        <ul class="flex items-center text-sm">
          {
            navigationLinks.map((item) => (
              <li>
                {item.items ? (
                  <Dropdown openOnHover>
                    <DropdownTrigger asChild>
                      <Button size="sm" variant="ghost">
                        {item.label}
                        <ChevronDown class="size-4 opacity-50" />
                      </Button>
                    </DropdownTrigger>
                    <DropdownContent class="min-w-[300px]">
                      {item.items.map((subitem) => (
                        <DropdownItem as="a" href={subitem.href}>
                          {subitem.label}
                          {subitem.description ? "" : ""}
                        </DropdownItem>
                      ))}
                    </DropdownContent>
                  </Dropdown>
                ) : (
                  <Button variant="ghost" size="sm" href={item.href} title={item.description} class="">
                    {item.label}
                  </Button>
                )}
              </li>
            ))
          }
        </ul>
      </nav>

      <div class="flex items-center gap-4">
        <!-- TODO: align middle -->
        <div class="sm:flex sm:gap-1">
          <Button variant="ghost">
            <Toggle style="width: 20px; height: 20px;" />
          </Button>
          <LangSelect />
        </div>

        <!-- TODO: hamburger, mobile nav -->
        <button class="block rounded-sm bg-gray-100 p-2.5 text-gray-600 transition hover:text-gray-600/75 md:hidden">
          <span class="sr-only">Toggle menu</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="size-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>
</nav>

<style>
  .logo,
  .menu {
    font-family: var(--font-headings);
  }
</style>
